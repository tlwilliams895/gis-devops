<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Walkthrough: TDD &#8212; LaunchCode: GIS DevOps  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Walkthrough: Unit Tests" href="../unit-tests/index.html" />
    <link rel="prev" title="Walkthrough: SwaggerUI" href="../swagger/index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
          GIS DevOps</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="/installations/index.html">Installations</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ol>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day1/index.html">Week 1 - Day 1: Welcome, Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day2/index.html">Week 1 - Day 2: Terminal, Shell, Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day3/index.html">Week 1 - Day 3: Shell, Git, SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day4/index.html">Week 1 - Day 4: SQL, HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day5/index.html">Week 1 - Day 5: HTTP, Docker</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day1/index.html">Week 2 - Day 1: HTML, CSS, Browser DevTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day2/index.html">Week 2 - Day 2: HTML/CSS Template, JavaScript Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day3/index.html">Week 2 - Day 3: Programming Fundamentals, JavaScript, DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day4/index.html">Week 2 - Day 4: JS, DOM, Promises, AJAX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day5/index.html">Week 2 - Day 5: Promises, AJAX, HTTP</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day1/index.html">Week 3 - Day 1: Java, OOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day2/index.html">Week 3 - Day 2: Spring Boot, Controllers, Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day3/index.html">Week 3 - Day 3: Models, ORM (Hibernate)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day4/index.html">Week 3 - Day 4: Persistence, ORM Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day5/index.html">Week 3 - Day 5: Review</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day1/index.html">Week 4 - Day 1: Git, GitLab, IntelliJ, Refactoring, Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day2/index.html">Week 4 - Day 2: Security, Test-driven development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day3/index.html">Week 4 - Day 3: Integration testing, dependency injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day4/index.html">Week 4 - Day 4: Postgres, Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day5/index.html">Week 4 - Day 5: AJAX, Open Layers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week05/project/index.html">Week 5 - Project Week: Zika Mission Control</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day1/index.html">Week 6 - Day 1: RESTful web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day2/index.html">Week 6 - Day 2: Swagger REST framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day3/index.html">Week 6 - Day 3: Intro to Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day4/index.html">Week 6 - Day 4: More Elasticsearch, Integrating ES with Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day5/index.html">Week 6 - Day 5: ES2015, ESLint, OpenLayers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week07/project/index.html">Week 7 - Project Week: Zika Mission Control Part 2</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day1/index.html">Week 8 - Day 1: Intro to DevOps/AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day2/index.html">Week 8 - Day 2: More with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day3/index.html">Week 8 - Day 3: 12 Factor Apps and Auto Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day4/index.html">Week 8 - Day 4: Gradle, Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day5/index.html">Week 8 - Day 5: Sonarqube</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week09/project/index.html">Week 9 - Project Week: Zika Mission Control Part 3</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week11/project/index.html">Week 11 - Project Week: Zika Mission Control Part 4</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day3/index.html">Week 12 - Day 3: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day4/index.html">Week 12 - Day 4: OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day5/index.html">Week 12 - Day 5: Certificates</a></li>
</ol>
<ol class="current">
<li class="toctree-l1"><a class="reference internal" href="../aws-intro/index.html">Walkthrough: Intro to AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws-rds-vpc/index.html">Walkthrough: Introduction to Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../certificate-authority/index.html">Certificate Authority</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client-certificates/index.html">Client Certificates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Walkthrough: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch-spring/index.html">Walkthrough: Elasticsearch in Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch/index.html">Walkthrough: Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticsearch2/index.html">Walkthrough: Elasticsearch Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eslint-airwaze/index.html">Walkthrough: ESLint Airwaze</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gitLab/index.html">Walkthrough: Git and Gitlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gradle/index.html">Walkthrough: Gradle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hashing-salting/index.html">Walkthrough: Hashing and Salting Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jenkins/index.html">Walkthrough: CI/CD With Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../launchcart-rest/index.html">Walkthrough: LaunchCart REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oauth2/index.html">Visual OAuth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openlayers/index.html">Walkthrough: OpenLayers and jQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postgress/index.html">Walkthrough: PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sonarqube/index.html">Walkthrough: Sonarqube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spring-data-jpa-hibernate/index.html">Walkthrough: Cars Demo - Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spring-integration-testing/index.html">Walkthrough: Spring Integration Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../swagger/index.html">Walkthrough: SwaggerUI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Walkthrough: TDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit-tests/index.html">Walkthrough: Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading-spring-boot/index.html">Walkthrough: Upgrading to Spring Boot 2.x</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../installations/00-prep-week/index.html">Installation: Essential Tooling &amp; Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/01-docker/index.html">Installation: Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/02-docker-psql/index.html">Installation: Docker PSQL Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/03-docker-postgis/index.html">Installation: Docker PostGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/04-docker-elasticsearch/index.html">Installation: Docker Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/05-docker-kibana/index.html">Installation: Docker Kibana</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/06-docker-jenkins/index.html">Installation: Docker Jenkins</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/00-intellij/index.html">Configuration: IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/01-runtime-configurations/index.html">Configuration: IntelliJ - Runtime Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/02-environment-variables-intellij/index.html">Configuration: Environment Variables - IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/04-spring-elasticsearch/index.html">Configuration: Spring &amp; Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/05-spring-postgres/index.html">Configuration: Spring &amp; Postgres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/06-vscode-eslint/index.html">Configuration: Visual Studio Code - ESLint</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../notes/docker/index.html">Docker</a></li>
</ol>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Walkthrough: TDD</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#follow-along">Follow Along</a><ul>
<li><a class="reference internal" href="#discuss-requirements">Discuss Requirements</a></li>
<li><a class="reference internal" href="#create-a-test-list-range-feature">Create a Test List - Range Feature</a></li>
<li><a class="reference internal" href="#write-the-tests-range-feature">Write the Tests - Range Feature</a></li>
<li><a class="reference internal" href="#make-them-pass-range-feature">Make Them Pass - Range Feature</a></li>
<li><a class="reference internal" href="#create-a-test-list-trip-meter-feature">Create a Test List - Trip Meter Feature</a></li>
<li><a class="reference internal" href="#write-the-tests-trip-meter-feature">Write the Tests - Trip Meter Feature</a></li>
<li><a class="reference internal" href="#make-them-pass-trip-meter-feature">Make Them Pass - Trip Meter Feature</a></li>
<li><a class="reference internal" href="#clean-up-code">Clean Up Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="walkthrough-tdd">
<span id="tdd-walkthrough"></span><h1>Walkthrough: TDD<a class="headerlink" href="#walkthrough-tdd" title="Permalink to this headline">¶</a></h1>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We will use the same repo from Day 1</li>
<li>Open <a class="reference external" href="https://gitlab.com/LaunchCodeTraining/car-unit-tests-starter" target="_blank">the car unit tests project<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> in Intellij</li>
<li>From your solution branch from yesterday create a new branch for today’s solution</li>
</ul>
</div>
<div class="section" id="follow-along">
<h2>Follow Along<a class="headerlink" href="#follow-along" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Discuss the requirements we want to add</li>
<li>Create a test list</li>
<li>Write the tests</li>
<li>Make them pass</li>
<li>Clean up the code if there are any code smells</li>
</ol>
<div class="section" id="discuss-requirements">
<h3>Discuss Requirements<a class="headerlink" href="#discuss-requirements" title="Permalink to this headline">¶</a></h3>
<p>Following TDD and the red-green-refactor workflow we need to understand our requirements before writing any code.</p>
<p>Today we will be implementing Range, and Trip Meter functionality.</p>
<p>The Range functionality will calculate how many more miles the car can drive before running out of gas. The output should be a Double reprsenting the miles the car can drive before needing to fuel up.</p>
<p>The Trip Meter will be a separate resetable odometer. This will allow a user to track the number of miles travelled on a specific trip.</p>
</div>
<div class="section" id="create-a-test-list-range-feature">
<h3>Create a Test List - Range Feature<a class="headerlink" href="#create-a-test-list-range-feature" title="Permalink to this headline">¶</a></h3>
<p>Based on the requirements we need to create three tests</p>
<ul class="simple">
<li>testInitialValue - create a car and check range</li>
<li>testValueAfterDriving - drive a car and verify remaining range</li>
<li>testValueAtEmpty - verify the range for a car with an empty tank</li>
</ul>
</div>
<div class="section" id="write-the-tests-range-feature">
<h3>Write the Tests - Range Feature<a class="headerlink" href="#write-the-tests-range-feature" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/tdd-range-tests.png" src="../../_images/tdd-range-tests.png" />
<p>What happens when you run the tests?</p>
<p>Well the tests won’t run yet, because our code won’t compile.
We are calling a few methods that don’t exist. We will need to create these methods to get them to run.</p>
</div>
<div class="section" id="make-them-pass-range-feature">
<h3>Make Them Pass - Range Feature<a class="headerlink" href="#make-them-pass-range-feature" title="Permalink to this headline">¶</a></h3>
<p>We need to add <code class="docutils literal notranslate"><span class="pre">getRange()</span></code> to <code class="docutils literal notranslate"><span class="pre">Car.java</span></code>.</p>
<img alt="../../_images/tdd-range-code.png" src="../../_images/tdd-range-code.png" />
<p>After adding the below code, run the tests again. All tests should be passing at this point.</p>
<img alt="../../_images/tdd-range-tests-pass.png" src="../../_images/tdd-range-tests-pass.png" />
</div>
<div class="section" id="create-a-test-list-trip-meter-feature">
<h3>Create a Test List - Trip Meter Feature<a class="headerlink" href="#create-a-test-list-trip-meter-feature" title="Permalink to this headline">¶</a></h3>
<p>Based on the requirements we need to create three tests</p>
<ul class="simple">
<li>testInitialValue - create a car and verify initial trip value is 0</li>
<li>testAfterDriving - drive a car and verify trip value is driven amount</li>
<li>testResetAfterDriving - drive a car, reset trip, then verify trip is 0</li>
<li>testResetThenDrive - drive, reset the trip, drive again, verify trip value is driven amount</li>
</ul>
</div>
<div class="section" id="write-the-tests-trip-meter-feature">
<h3>Write the Tests - Trip Meter Feature<a class="headerlink" href="#write-the-tests-trip-meter-feature" title="Permalink to this headline">¶</a></h3>
<img alt="../../_images/tdd-trip-tests.png" src="../../_images/tdd-trip-tests.png" />
<p>What happens when you run the tests?</p>
<p>Well the tests won’t run yet, because our code won’t compile. We are calling a few methods that don’t exist. We will need to create these methods to get them to run.</p>
</div>
<div class="section" id="make-them-pass-trip-meter-feature">
<h3>Make Them Pass - Trip Meter Feature<a class="headerlink" href="#make-them-pass-trip-meter-feature" title="Permalink to this headline">¶</a></h3>
<p>We need to add a property <code class="docutils literal notranslate"><span class="pre">tripMeter</span></code> and two functions <code class="docutils literal notranslate"><span class="pre">getTripMeter()</span></code> and <code class="docutils literal notranslate"><span class="pre">resetTripMeter()</span></code> to <code class="docutils literal notranslate"><span class="pre">Car.java</span></code></p>
<img alt="../../_images/tdd-trip-code1.png" src="../../_images/tdd-trip-code1.png" />
<img alt="../../_images/tdd-trip-code2.png" src="../../_images/tdd-trip-code2.png" />
<p>Run the tests again. You will find that the code is compilling, but not all tests are passing.</p>
<img alt="../../_images/tdd-some-passing-tests.png" src="../../_images/tdd-some-passing-tests.png" />
<p>Our tests are currently failing every time our car drives. We need to add some code to our drive method so that it updates the TripMeter as well as the Odometer.</p>
<img alt="../../_images/tdd-update-drive-method.png" src="../../_images/tdd-update-drive-method.png" />
<p>Now when we run our tests, they all pass!</p>
<img alt="../../_images/tdd-successful-tests.png" src="../../_images/tdd-successful-tests.png" />
</div>
<div class="section" id="clean-up-code">
<h3>Clean Up Code<a class="headerlink" href="#clean-up-code" title="Permalink to this headline">¶</a></h3>
<p>Now that are tests pass, it’s a good idea to clean up our code. Our project is pretty small still, but there are a lot of redundancies in our CarTest.java file. We should clean them up.</p>
<p>We will use <code class="docutils literal notranslate"><span class="pre">&#64;Before</span></code>, and <code class="docutils literal notranslate"><span class="pre">&#64;After</span></code> to set some variables we can use in each of our tests, so we don’t have to declare a new object at the start of every test. This will cut down on our redundant code.</p>
<img alt="../../_images/tdd-atbefore.png" src="../../_images/tdd-atbefore.png" />
<p>Using the <code class="docutils literal notranslate"><span class="pre">&#64;Before</span></code> annotation allows us to run some code before every test method in this class. In this example we use the <code class="docutils literal notranslate"><span class="pre">&#64;Before</span></code> annotation at the top of our Class, and we are setting up a <code class="docutils literal notranslate"><span class="pre">car</span></code>. We will then change our tests to test this car, instead of requiring each of our tests to create a new car object.</p>
<img alt="../../_images/tdd-refactor-tests.png" src="../../_images/tdd-refactor-tests.png" />
<p>We can now change our test methods to change, and make assert statements reference the <code class="docutils literal notranslate"><span class="pre">car</span></code> created in the setup method. Look over your other tests, and see if they can benefit using the <code class="docutils literal notranslate"><span class="pre">&#64;Before</span></code> annotation.</p>
<p>After refactoring your code, re-run your tests to make sure they all pass. If they don’t make the changes necessary so they will pass. Then it would be a great idea to push your work to your personal GitLab account.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>