<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Project Week 5 Setup: Spring, Git, GitLab, PostGIS, &amp; IntelliJ &#8212; LaunchCode: GIS DevOps  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
          GIS DevOps</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="/installations/index.html">Installations</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ol>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day1/index.html">Week 1 - Day 1: Welcome, Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day2/index.html">Week 1 - Day 2: Terminal, Shell, Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day3/index.html">Week 1 - Day 3: Shell, Git, SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day4/index.html">Week 1 - Day 4: SQL, HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day5/index.html">Week 1 - Day 5: HTTP, Docker</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day1/index.html">Week 2 - Day 1: HTML, CSS, Browser DevTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day2/index.html">Week 2 - Day 2: HTML/CSS Template, JavaScript Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day3/index.html">Week 2 - Day 3: Programming Fundamentals, JavaScript, DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day4/index.html">Week 2 - Day 4: JS, DOM, Promises, AJAX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day5/index.html">Week 2 - Day 5: Promises, AJAX, HTTP</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day1/index.html">Week 3 - Day 1: Java, OOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day2/index.html">Week 3 - Day 2: Spring Boot, Controllers, Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day3/index.html">Week 3 - Day 3: Models, ORM (Hibernate)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day4/index.html">Week 3 - Day 4: Persistence, ORM Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day5/index.html">Week 3 - Day 5: Review</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day1/index.html">Week 4 - Day 1: Git, GitLab, IntelliJ, Refactoring, Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day2/index.html">Week 4 - Day 2: Security, Test-driven development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day3/index.html">Week 4 - Day 3: Integration testing, dependency injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day4/index.html">Week 4 - Day 4: Postgres, Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day5/index.html">Week 4 - Day 5: AJAX, Open Layers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../project/index.html">Week 5 - Project Week: Zika Mission Control</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day1/index.html">Week 6 - Day 1: RESTful web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day2/index.html">Week 6 - Day 2: Swagger REST framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day3/index.html">Week 6 - Day 3: Intro to Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day4/index.html">Week 6 - Day 4: More Elasticsearch, Integrating ES with Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day5/index.html">Week 6 - Day 5: ES2015, ESLint, OpenLayers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week07/project/index.html">Week 7 - Project Week: Zika Mission Control Part 2</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day1/index.html">Week 8 - Day 1: Intro to DevOps/AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day2/index.html">Week 8 - Day 2: More with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day3/index.html">Week 8 - Day 3: 12 Factor Apps and Auto Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day4/index.html">Week 8 - Day 4: Gradle, Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day5/index.html">Week 8 - Day 5: Sonarqube</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week09/project/index.html">Week 9 - Project Week: Zika Mission Control Part 3</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week11/project/index.html">Week 11 - Project Week: Zika Mission Control Part 4</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day3/index.html">Week 12 - Day 3: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day4/index.html">Week 12 - Day 4: OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day5/index.html">Week 12 - Day 5: Certificates</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/aws-intro/index.html">Walkthrough: Intro to AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/aws-rds-vpc/index.html">Walkthrough: Introduction to Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/certificate-authority/index.html">Certificate Authority</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/client-certificates/index.html">Client Certificates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/docker/index.html">Walkthrough: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch-spring/index.html">Walkthrough: Elasticsearch in Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch/index.html">Walkthrough: Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch2/index.html">Walkthrough: Elasticsearch Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/eslint-airwaze/index.html">Walkthrough: ESLint Airwaze</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/gitLab/index.html">Walkthrough: Git and Gitlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/gradle/index.html">Walkthrough: Gradle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/hashing-salting/index.html">Walkthrough: Hashing and Salting Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/jenkins/index.html">Walkthrough: CI/CD With Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/launchcart-rest/index.html">Walkthrough: LaunchCart REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/oauth2/index.html">Visual OAuth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/openlayers/index.html">Walkthrough: OpenLayers and jQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/postgress/index.html">Walkthrough: PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/sonarqube/index.html">Walkthrough: Sonarqube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/spring-data-jpa-hibernate/index.html">Walkthrough: Cars Demo - Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/spring-integration-testing/index.html">Walkthrough: Spring Integration Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/swagger/index.html">Walkthrough: SwaggerUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/tdd/index.html">Walkthrough: TDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/unit-tests/index.html">Walkthrough: Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/upgrading-spring-boot/index.html">Walkthrough: Upgrading to Spring Boot 2.x</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../installations/00-prep-week/index.html">Installation: Essential Tooling &amp; Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/01-docker/index.html">Installation: Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/02-docker-psql/index.html">Installation: Docker PSQL Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/03-docker-postgis/index.html">Installation: Docker PostGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/04-docker-elasticsearch/index.html">Installation: Docker Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/05-docker-kibana/index.html">Installation: Docker Kibana</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/06-docker-jenkins/index.html">Installation: Docker Jenkins</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/00-intellij/index.html">Configuration: IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/01-runtime-configurations/index.html">Configuration: IntelliJ - Runtime Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/02-environment-variables-intellij/index.html">Configuration: Environment Variables - IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/04-spring-elasticsearch/index.html">Configuration: Spring &amp; Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/05-spring-postgres/index.html">Configuration: Spring &amp; Postgres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/06-vscode-eslint/index.html">Configuration: Visual Studio Code - ESLint</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../notes/docker/index.html">Docker</a></li>
</ol>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Project Week 5 Setup: Spring, Git, GitLab, PostGIS, &amp; IntelliJ</a><ul>
<li><a class="reference internal" href="#create-spring-project">Create Spring Project</a></li>
<li><a class="reference internal" href="#open-project-in-intellij">Open Project in IntelliJ</a></li>
<li><a class="reference internal" href="#configure-project-dependencies">Configure Project Dependencies</a></li>
<li><a class="reference internal" href="#initialize-a-new-git-repository">Initialize a New Git Repository</a></li>
<li><a class="reference internal" href="#connect-to-a-remote-repository">Connect to a Remote Repository</a></li>
<li><a class="reference internal" href="#setup-postgis">Setup PostGIS</a></li>
<li><a class="reference internal" href="#create-databases-users">Create Databases &amp; Users</a></li>
<li><a class="reference internal" href="#configure-spring-data">Configure Spring Data</a></li>
<li><a class="reference internal" href="#make-sure-it-works">Make Sure it Works</a></li>
<li><a class="reference internal" href="#commit">Commit</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="project-week-5-setup-spring-git-gitlab-postgis-intellij">
<span id="week5-spring-application"></span><h1>Project Week 5 Setup: Spring, Git, GitLab, PostGIS, &amp; IntelliJ<a class="headerlink" href="#project-week-5-setup-spring-git-gitlab-postgis-intellij" title="Permalink to this headline">¶</a></h1>
<p>Before we can begin working on the requirements for this week, we will need to first setup the tools we will be using throughout this week.</p>
<p>Tasks:</p>
<ul class="simple">
<li>Create Spring Project</li>
<li>Open Project in IntelliJ</li>
<li>Configure Project Dependencies in Gradle</li>
<li>Intialize a New Git Repository</li>
<li>Connect our local git repository to a remote repository on GitLab</li>
<li>Setup PostGIS</li>
<li>Create Databases, and Database users</li>
<li>Configure Spring Data</li>
</ul>
<div class="section" id="create-spring-project">
<h2>Create Spring Project<a class="headerlink" href="#create-spring-project" title="Permalink to this headline">¶</a></h2>
<p>We will be creating a Spring project from scratch today! Luckily for us Pivotal, the owners of Spring, have tried to make it as easy as possible to create a new Spring project.</p>
<p>In your browser navigate to <a class="reference external" href="https://start.spring.io" target="_blank">start.spring.io<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<p>From the Spring Initializr we have some options to create a ready to go spring application!</p>
<p>You will need to select:</p>
<ul class="simple">
<li>Project: <em>Gradle</em></li>
<li>Language: <em>Java</em></li>
<li>Spring Boot: <em>2.1.X</em></li>
<li>Project Metadata Group: <em>org.launchcode</em></li>
<li>Project Metadata Artifact: <em>zikaDashboard</em></li>
<li>Project Metadata Name: <em>zikaDashboard</em></li>
<li>Project Metadata Description: <em>CDC Zika Dashboard</em></li>
<li>Project Metadata Package Name: <em>org.launchcode.zikaDashboard</em></li>
<li>Project Metadata Packaging: <em>Jar</em></li>
<li>Project Metadata Java Version: <em>8</em></li>
<li>Dependencies: <em>Web</em></li>
<li>Dependencies: <em>Thymeleaf</em></li>
<li>Dependencies: <em>JPA</em></li>
<li>Dependencies: <em>DevTools</em></li>
</ul>
<p>Double check that you have filled out the information correctly, and then click <em>Generate</em>. This will prompt your browser to download a file called <code class="docutils literal notranslate"><span class="pre">zikaDashboard.zip</span></code>, go ahead and download it, and take notice of where it is downloaded. Most machines default to a Download directory off of your Home directory.</p>
<p>We will want to move the <code class="docutils literal notranslate"><span class="pre">zikaDashboard.zip</span></code> file to wherever you typically store your projects, and then unzip the file.</p>
<p>Your command will likely be different, but one example of moving the <code class="docutils literal notranslate"><span class="pre">zikaDashboard.zip</span></code> file to the projects folder can be completed with the following command.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Move &amp; unzip <code class="docutils literal notranslate"><span class="pre">zikaDashboard.zip</span></code></span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> mv /home/paul/Downloads/zikaDashboard.zip /home/paul/projects/
<span class="gp">$</span> <span class="nb">cd</span> /home/paul/projects
<span class="gp">$</span> unzip zikaDashboard.zip
</pre></div>
</div>
</div>
<p>Upon unzipping the file, we will have a new folder called <code class="docutils literal notranslate"><span class="pre">zikaDashboard</span></code>. Looking into the folder you will see a familiar project structure for Spring projects.</p>
</div>
<div class="section" id="open-project-in-intellij">
<h2>Open Project in IntelliJ<a class="headerlink" href="#open-project-in-intellij" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a directory with our Spring application in it, let’s go ahead and open this project with IntelliJ.</p>
<p>From IntelliJ Open <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code> as a new project. Make sure use auto-import is selected!</p>
<p>After opening your project look around at the structure. It should look very familiar to the other projects we have worked on in this class.</p>
</div>
<div class="section" id="configure-project-dependencies">
<h2>Configure Project Dependencies<a class="headerlink" href="#configure-project-dependencies" title="Permalink to this headline">¶</a></h2>
<p>In creating our Spring project we added four dependencies directly from Spring: Web, Thymeleaf, JPA, and DevTools.</p>
<p>However, we have 2 additional dependencies we will need: a PSQL Driver, and Hibernate. These two tools are not managed by Spring, and cannot be loaded through the Spring Initializr, so we will have to manually include their dependencies.</p>
<p>Open the <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code> file in your new project. You will need to add two things.</p>
<p>First we will have to configure a new <code class="docutils literal notranslate"><span class="pre">buildscript</span></code> section of this file, that will add our new dependencies to our classpath.</p>
<p>At the top of your file add the following code block.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Add buildscript</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">buildscript {</span>
<span class="go">  repositories {</span>
<span class="go">    mavenCentral()</span>
<span class="go">  }</span>
<span class="go">  dependencies {</span>
<span class="go">    classpath(group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.1.4&#39;)</span>
<span class="go">    classpath(group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;5.1.0.Final&#39;)</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<p>Next we will have to add those dependencies to our project.</p>
<p>Towards the bottom of your file you should find a separate dependencies section. It should already have a few <code class="docutils literal notranslate"><span class="pre">implementation</span></code>, <code class="docutils literal notranslate"><span class="pre">runtimeOnly</span></code>, and <code class="docutils literal notranslate"><span class="pre">testImplementation</span></code> statements, which should not be changed</p>
<p>We just want to add the following three statements.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Add dependencies</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">dependencies {</span>
<span class="go">  ...</span>
<span class="go">  compile(group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.1.4&#39;)</span>
<span class="go">  compile(group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: &#39;5.1.0.Final&#39;)</span>
<span class="go">  compile(group: &#39;com.bedatadriven&#39;, name: &#39;jackson-datatype-jts&#39;, version: &#39;2.4&#39;)</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<p>After you add these statements you should notice IntelliJ displays a loading symbol as it downloads, and installs these dependencies into your project. It should only take a second.</p>
<p>You can see these files by looking into the External Libraries directory, and looking for <code class="docutils literal notranslate"><span class="pre">Gradle:org.hibernate:hibernate-spatial:5.1.0.FINAL</span></code>, and <code class="docutils literal notranslate"><span class="pre">Gradle:org.postgresql:postgresql:42.1.4</span></code>. They will be among the other dependencies we loaded from the Spring Initializr.</p>
</div>
<div class="section" id="initialize-a-new-git-repository">
<h2>Initialize a New Git Repository<a class="headerlink" href="#initialize-a-new-git-repository" title="Permalink to this headline">¶</a></h2>
<p>You may notice that Spring Initializr created a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file for you. However, it is not able to initialize a new git directory for you.</p>
<p>You will need to initialize a new git directory with <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">init</span></code>.</p>
<p>Look over the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file and determine if there is anything else you may need to add to it.</p>
</div>
<div class="section" id="connect-to-a-remote-repository">
<h2>Connect to a Remote Repository<a class="headerlink" href="#connect-to-a-remote-repository" title="Permalink to this headline">¶</a></h2>
<p>You will want to connect your local Git repository to a remote repository. To do this you will need to create a new project on your GitLab account. After doing that you can connect the two from your command line by typing <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">&lt;url_to_remote_git_repo&gt;</span></code>.</p>
<p>After you connect your local to your remote, you may want to stage, commit, and push. This will synchronize your local, and remote repositories so that your remote repository will contain your starter project.</p>
</div>
<div class="section" id="setup-postgis">
<h2>Setup PostGIS<a class="headerlink" href="#setup-postgis" title="Permalink to this headline">¶</a></h2>
<p>We are going to need a PostGIS database. You are more than welcome to use a PostGIS database we used for previous projects.  You will need to ensure the PostGIS container is running, and listening to requests on port 5432.</p>
<p>If you need a refresher on creating PostGIS containers checkout out the <a class="reference internal" href="../../installations/03-docker-postgis/index.html#docker-postgis"><span class="std std-ref">Docker PostGIS installation</span></a> article.</p>
</div>
<div class="section" id="create-databases-users">
<h2>Create Databases &amp; Users<a class="headerlink" href="#create-databases-users" title="Permalink to this headline">¶</a></h2>
<p>Within your PostGIS container we will need to create 2 new databases, and 2 new users from the PSQL CLI.</p>
<p>In order to access the database through the PSQL CLI. You will have to check that the PostGIS container is running <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">docker</span> <span class="pre">ps</span></code>. Make sure that you only have one database container running, since PSQL listens on port 5432, if you have multiple containers active at the same time unexpected things could happen.</p>
<p>Once your container is running you can login to the PSQL CLI with <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">psql</span> <span class="pre">-h</span> <span class="pre">127.0.0.1</span> <span class="pre">-U</span> <span class="pre">&lt;psql_user&gt;</span> <span class="pre">-d</span> <span class="pre">postgres</span></code>.</p>
<p>You will then need to create 2 databases for our zika project, and 2 users with full access to those databases. One user/database will be for running your app locally, while the other will be used for testing.</p>
</div>
<div class="section" id="configure-spring-data">
<h2>Configure Spring Data<a class="headerlink" href="#configure-spring-data" title="Permalink to this headline">¶</a></h2>
<p>Now that our databases are setup, and we have our users, we can configure Spring Data.</p>
<p>We will need to create, or add to the application.properties file. This file lives in the <code class="docutils literal notranslate"><span class="pre">src/main/resources</span></code> folder.</p>
<p>You will want to add this to it:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">application.properties</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">spring</span><span class="p">.</span><span class="na">datasource</span><span class="p">.</span><span class="na">url</span><span class="o">=</span><span class="n">jdbc</span><span class="p">:</span><span class="n">postgresql</span><span class="p">:</span><span class="c1">//${APP_DB_HOST}:${APP_DB_PORT}/${APP_DB_NAME}</span>
<span class="n">spring</span><span class="p">.</span><span class="na">datasource</span><span class="p">.</span><span class="na">username</span><span class="o">=</span><span class="n">$</span><span class="p">{</span><span class="n">APP_DB_USER</span><span class="p">}</span>
<span class="n">spring</span><span class="p">.</span><span class="na">datasource</span><span class="p">.</span><span class="na">password</span><span class="o">=</span><span class="n">$</span><span class="p">{</span><span class="n">APP_DB_PASS</span><span class="p">}</span>
<span class="n">spring</span><span class="p">.</span><span class="na">jpa</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">ddl</span><span class="o">-</span><span class="n">auto</span><span class="o">=</span><span class="n">create</span>
<span class="n">spring</span><span class="p">.</span><span class="na">datasource</span><span class="p">.</span><span class="na">testWhileIdle</span><span class="o">=</span><span class="kc">true</span>
<span class="n">spring</span><span class="p">.</span><span class="na">datasource</span><span class="p">.</span><span class="na">validationQuery</span><span class="o">=</span><span class="n">SELECT</span> <span class="mi">1</span>
<span class="n">spring</span><span class="p">.</span><span class="na">jpa</span><span class="p">.</span><span class="na">show</span><span class="o">-</span><span class="n">sql</span><span class="o">=</span><span class="kc">true</span>
<span class="n">spring</span><span class="p">.</span><span class="na">jpa</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">naming</span><span class="o">-</span><span class="n">strategy</span><span class="o">=</span><span class="n">org</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">cfg</span><span class="p">.</span><span class="na">ImprovedNamingStrategy</span>
<span class="n">spring</span><span class="p">.</span><span class="na">jpa</span><span class="p">.</span><span class="na">properties</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">dialect</span><span class="o">=</span><span class="n">org</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">spatial</span><span class="p">.</span><span class="na">dialect</span><span class="p">.</span><span class="na">postgis</span><span class="p">.</span><span class="na">PostgisDialect</span>
<span class="n">spring</span><span class="p">.</span><span class="na">jpa</span><span class="p">.</span><span class="na">properties</span><span class="p">.</span><span class="na">hibernate</span><span class="p">.</span><span class="na">temp</span><span class="p">.</span><span class="na">use_jdbc_metadata_defaults</span><span class="o">=</span> <span class="kc">false</span>
</pre></div>
</div>
</div>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">The example above is using environment variables. If you need help with these, check out the <a class="reference external" href="../../configurations/environment-variables-intellij/" target="_blank">environment variables<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> article.</p>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">spring.jpa.hibernate.ddl-auto</span></code> is set to <code class="docutils literal notranslate"><span class="pre">create</span></code> this will create any Models with the <code class="docutils literal notranslate"><span class="pre">&#64;Entity</span></code> annotation, and will run the <code class="docutils literal notranslate"><span class="pre">import.sql</span></code> script at startup.</p>
<p>Let’s configure the <code class="docutils literal notranslate"><span class="pre">import.sql</span></code> script. Create a new file in the same location as <code class="docutils literal notranslate"><span class="pre">application.properties</span></code> and add this to it:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">import.sql</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">BEGIN</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="n">EXTENSION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">postgis</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">EXTENSION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">postgis_topology</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">EXTENSION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">fuzzystrmatch</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">EXTENSION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">postgis_tiger_geocoder</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">EXTENSION</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">unaccent</span><span class="p">;</span>

<span class="c1">-- COPY report() FROM &#39;/tmp/report.csv&#39; DELIMITER &#39;,&#39; CSV HEADER;</span>

<span class="k">COMMIT</span><span class="p">;</span>
</pre></div>
</div>
</div>
<p>As a final step let’s create a new Report class, and add the &#64;Entity annotation so we can see hibernate create the report table for us!</p>
<p>Add a <code class="docutils literal notranslate"><span class="pre">models</span></code> directory in <code class="docutils literal notranslate"><span class="pre">main/java/org/launchcode/zikaDashboard</span></code>.</p>
<p>Inside the new <code class="docutils literal notranslate"><span class="pre">models</span></code> directory add a new Java class called <code class="docutils literal notranslate"><span class="pre">Report.java</span></code>.</p>
<p>Inside that file add this code:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Report.java</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Report</span> <span class="p">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">GenerationType</span><span class="p">.</span><span class="na">IDENTITY</span><span class="p">)</span>
    <span class="kd">private</span> <span class="n">Long</span> <span class="n">id</span><span class="p">;</span>

    <span class="c1">// required Hibernate constructor</span>
    <span class="kd">public</span> <span class="nf">Report</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Report</span></code> class is very empty so far. It just contains an <code class="docutils literal notranslate"><span class="pre">id</span></code>, and an empty constructor that is required for Hibernate to map records to objects.</p>
</div>
<div class="section" id="make-sure-it-works">
<h2>Make Sure it Works<a class="headerlink" href="#make-sure-it-works" title="Permalink to this headline">¶</a></h2>
<p>Now that we have configured our project let’s run our application. Select <code class="docutils literal notranslate"><span class="pre">bootRun</span></code> from the Gradle menu, or create a new Gradle runtime with the task <code class="docutils literal notranslate"><span class="pre">bootRun</span></code>.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">Don’t forget that you will need to add <a class="reference external" href="../../configurations/environment-variables-intellij/" target="_blank">environment variables<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> to your runtime configuration!</p>
</div>
<p>If you don’t get any errors you should see the Tomcat logs, if you scroll up in the logs you can see that Spring Data ran your <code class="docutils literal notranslate"><span class="pre">import.sql</span></code> script, and it created a new report table in the database.</p>
<p>It would be a good idea to login to the PSQL CLI and make sure the report table was created successfully. The table should exist, but only have one column called <code class="docutils literal notranslate"><span class="pre">id</span></code>, and it won’t have any records yet.</p>
<p>If you get errors in your log, or don’t see the report table, read over these instructions again, talk to your fellow classmates, and ask the instructor for help.</p>
</div>
<div class="section" id="commit">
<h2>Commit<a class="headerlink" href="#commit" title="Permalink to this headline">¶</a></h2>
<p>After everything has been configured it would be a good idea to add, commit, and push your work to GitLab.</p>
<p>Back to <a class="reference internal" href="../project/index.html#week5-project"><span class="std std-ref">Week 5 - Project Week: Zika Mission Control</span></a>.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>