<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Studio: LaunchCart Part 2 &#8212; LaunchCode: GIS DevOps  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
          GIS DevOps</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="/installations/index.html">Installations</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ol>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day1/index.html">Week 1 - Day 1: Welcome, Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day2/index.html">Week 1 - Day 2: Terminal, Shell, Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day3/index.html">Week 1 - Day 3: Shell, Git, SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day4/index.html">Week 1 - Day 4: SQL, HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day5/index.html">Week 1 - Day 5: HTTP, Docker</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day1/index.html">Week 2 - Day 1: HTML, CSS, Browser DevTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day2/index.html">Week 2 - Day 2: HTML/CSS Template, JavaScript Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day3/index.html">Week 2 - Day 3: Programming Fundamentals, JavaScript, DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day4/index.html">Week 2 - Day 4: JS, DOM, Promises, AJAX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week02/day5/index.html">Week 2 - Day 5: Promises, AJAX, HTTP</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day1/index.html">Week 3 - Day 1: Java, OOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day2/index.html">Week 3 - Day 2: Spring Boot, Controllers, Routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day3/index.html">Week 3 - Day 3: Models, ORM (Hibernate)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day4/index.html">Week 3 - Day 4: Persistence, ORM Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day5/index.html">Week 3 - Day 5: Review</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day1/index.html">Week 4 - Day 1: Git, GitLab, IntelliJ, Refactoring, Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day2/index.html">Week 4 - Day 2: Security, Test-driven development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day3/index.html">Week 4 - Day 3: Integration testing, dependency injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day4/index.html">Week 4 - Day 4: Postgres, Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week04/day5/index.html">Week 4 - Day 5: AJAX, Open Layers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week05/project/index.html">Week 5 - Project Week: Zika Mission Control</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day1/index.html">Week 6 - Day 1: RESTful web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day2/index.html">Week 6 - Day 2: Swagger REST framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day3/index.html">Week 6 - Day 3: Intro to Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day4/index.html">Week 6 - Day 4: More Elasticsearch, Integrating ES with Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week06/day5/index.html">Week 6 - Day 5: ES2015, ESLint, OpenLayers</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week07/project/index.html">Week 7 - Project Week: Zika Mission Control Part 2</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day1/index.html">Week 8 - Day 1: Intro to DevOps/AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day2/index.html">Week 8 - Day 2: More with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day3/index.html">Week 8 - Day 3: 12 Factor Apps and Auto Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day4/index.html">Week 8 - Day 4: Gradle, Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week08/day5/index.html">Week 8 - Day 5: Sonarqube</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week09/project/index.html">Week 9 - Project Week: Zika Mission Control Part 3</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week11/project/index.html">Week 11 - Project Week: Zika Mission Control Part 4</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day3/index.html">Week 12 - Day 3: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day4/index.html">Week 12 - Day 4: OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../week12/day5/index.html">Week 12 - Day 5: Certificates</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/aws-intro/index.html">Walkthrough: Intro to AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/aws-rds-vpc/index.html">Walkthrough: Introduction to Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/certificate-authority/index.html">Certificate Authority</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/client-certificates/index.html">Client Certificates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/docker/index.html">Walkthrough: Intro to Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch-spring/index.html">Walkthrough: Elasticsearch in Spring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch/index.html">Walkthrough: Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/elasticsearch2/index.html">Walkthrough: Elasticsearch Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/eslint-airwaze/index.html">Walkthrough: ESLint Airwaze</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/gitLab/index.html">Walkthrough: Git and Gitlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/gradle/index.html">Walkthrough: Gradle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/hashing-salting/index.html">Walkthrough: Hashing and Salting Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/jenkins/index.html">Walkthrough: CI/CD With Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/launchcart-rest/index.html">Walkthrough: LaunchCart REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/oauth2/index.html">Visual OAuth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/openlayers/index.html">Walkthrough: OpenLayers and jQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/postgress/index.html">Walkthrough: PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/sonarqube/index.html">Walkthrough: Sonarqube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/spring-data-jpa-hibernate/index.html">Walkthrough: Cars Demo - Spring Data, JPA, Hibernate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/spring-integration-testing/index.html">Walkthrough: Spring Integration Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/swagger/index.html">Walkthrough: SwaggerUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/tdd/index.html">Walkthrough: TDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/unit-tests/index.html">Walkthrough: Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/upgrading-spring-boot/index.html">Walkthrough: Upgrading to Spring Boot 2.x</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../installations/00-prep-week/index.html">Installation: Essential Tooling &amp; Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/01-docker/index.html">Installation: Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/02-docker-psql/index.html">Installation: Docker PSQL Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/03-docker-postgis/index.html">Installation: Docker PostGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/04-docker-elasticsearch/index.html">Installation: Docker Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/05-docker-kibana/index.html">Installation: Docker Kibana</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installations/06-docker-jenkins/index.html">Installation: Docker Jenkins</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/00-intellij/index.html">Configuration: IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/01-runtime-configurations/index.html">Configuration: IntelliJ - Runtime Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/02-environment-variables-intellij/index.html">Configuration: Environment Variables - IntelliJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/04-spring-elasticsearch/index.html">Configuration: Spring &amp; Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/05-spring-postgres/index.html">Configuration: Spring &amp; Postgres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configurations/06-vscode-eslint/index.html">Configuration: Visual Studio Code - ESLint</a></li>
</ol>
<ol>
<li class="toctree-l1"><a class="reference internal" href="../../notes/docker/index.html">Docker</a></li>
</ol>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Studio: LaunchCart Part 2</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#your-tasks">Your Tasks</a><ul>
<li><a class="reference internal" href="#refactor-to-use-hibernate-keep-existing-functionality">Refactor to Use Hibernate (Keep Existing Functionality)</a></li>
<li><a class="reference internal" href="#add-newitem-to-item-model">Add newItem to Item Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bonus-mission">Bonus Mission</a></li>
<li><a class="reference internal" href="#turning-in-your-work">Turning In Your Work</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="studio-launchcart-part-2">
<span id="launchcart-part2"></span><h1>Studio: LaunchCart Part 2<a class="headerlink" href="#studio-launchcart-part-2" title="Permalink to this headline">¶</a></h1>
<p>In this studio, we revisit the LaunchCart application <a class="reference external" href="https://gitlab.com/LaunchCodeTraining/launchcart" target="_blank">https://gitlab.com/LaunchCodeTraining/launchcart<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> that we worked on in yesterday’s studio <a class="reference internal" href="../launchcart1/index.html#launchcart-part-1-studio"><span class="std std-ref">Studio: LaunchCart Part 1</span></a>. We’ll refactor the app to use Postgres, and add a couple of features.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>In the terminal go to project folder for <strong>LaunchCart</strong></li>
<li>Checkout the branch that contains the solution for the Day 3 studio. Example: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">day3-solution</span></code></li>
<li>Create a new branch for today’s work: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">get</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">day4-add-hibernate</span></code></li>
</ol>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p class="last">If you have any uncommitted changes, stash them using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span></code>. You can retrieve them later via <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span></code>.</p>
</div>
</div>
<div class="section" id="your-tasks">
<h2>Your Tasks<a class="headerlink" href="#your-tasks" title="Permalink to this headline">¶</a></h2>
<p>Each section outlines one task or group of tasks you need to complete.</p>
<div class="section" id="refactor-to-use-hibernate-keep-existing-functionality">
<h3>Refactor to Use Hibernate (Keep Existing Functionality)<a class="headerlink" href="#refactor-to-use-hibernate-keep-existing-functionality" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference external" href="../../installations/docker-psql/" target="_blank">Set Up A Postgres DB<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></li>
<li><a class="reference external" href="../../walkthroughs/spring-data-jpa-hibernate/" target="_blank">Configure the App To Use the Database<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> (controllers, entities, repositories, tests)</li>
<li><dl class="first docutils">
<dt>Get the tests to pass</dt>
<dd><ul class="first last">
<li>Did you add JPA, and PSQL dependencies to <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code>?</li>
<li>Did you add an <code class="docutils literal notranslate"><span class="pre">application.properties</span></code>, and <code class="docutils literal notranslate"><span class="pre">application-test.properties</span></code>?</li>
<li>Did you create the appropriate databases, and users in Postgres?</li>
<li>Did you create IntelliJ environment variables for your runtime configurations?</li>
<li>Did you update your Models?</li>
<li>Did you set <code class="docutils literal notranslate"><span class="pre">&#64;Id</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;GeneratedValue</span></code>?</li>
<li>Did you change your memory repositories to <code class="docutils literal notranslate"><span class="pre">JpaRepositories</span></code>?</li>
<li>Did you autowire your new <code class="docutils literal notranslate"><span class="pre">JpaRepositories</span></code> into your controller files, and test files?</li>
<li>Did you update <code class="docutils literal notranslate"><span class="pre">IntegrationTestConfig.java</span></code>?</li>
<li>Did you update <code class="docutils literal notranslate"><span class="pre">LaunchCartApplicationTests.java</span></code>?</li>
</ul>
</dd>
</dl>
</li>
<li>Commit your changes (For help see <a class="reference internal" href="../../walkthroughs/gitLab/index.html#git-reference"><span class="std std-ref">Git Reference</span></a>)</li>
</ol>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">You may have some tests that are unnecessary with our new changes. Are there tests, or testfiles we can remove?</p>
</div>
</div>
<div class="section" id="add-newitem-to-item-model">
<h3>Add newItem to Item Model<a class="headerlink" href="#add-newitem-to-item-model" title="Permalink to this headline">¶</a></h3>
<p>Let’s add a new boolean property to <code class="docutils literal notranslate"><span class="pre">Item</span></code> to keep track of whether or not an item is new. Following TDD let’s write our test first.</p>
<ul class="simple">
<li>Create a <code class="docutils literal notranslate"><span class="pre">TestItem.java</span></code> file if it doesn’t already exist.</li>
<li>Add a test to <code class="docutils literal notranslate"><span class="pre">TestItem.java</span></code> that creates a new Item, sets its newItem field to true, and then assertTrue that property.</li>
<li>Modify the <code class="docutils literal notranslate"><span class="pre">testNewItemFormCreatesItemAndRedirects</span></code> test within <code class="docutils literal notranslate"><span class="pre">ItemControllerTests</span></code> to post an additional parameter, <code class="docutils literal notranslate"><span class="pre">newItem</span></code>, with value <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code>.</li>
</ul>
<p>Our new test fails because we haven’t made the changes to the Item class to reflect our new tests. Let’s fix that.</p>
<ul class="simple">
<li>Add a boolean field <code class="docutils literal notranslate"><span class="pre">newItem</span></code> to <code class="docutils literal notranslate"><span class="pre">Item</span></code>, along with a getter and setter. Add <code class="docutils literal notranslate"><span class="pre">&#64;NotNull</span></code> to the field.</li>
<li>Run all of the tests to ensure that they pass</li>
</ul>
<p>Let’s do a little manual (eye) testing as well.</p>
<ul>
<li><p class="first">Add a checkbox to <code class="docutils literal notranslate"><span class="pre">templates/item/new.html</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;form-group&quot;&gt;
    &lt;input type=&quot;checkbox&quot; id=&quot;newItem&quot;
            name=&quot;newItem&quot; value=&quot;true&quot; checked=&quot;checked&quot; /&gt;
    &lt;label for=&quot;newItem&quot;&gt;New Item&lt;/label&gt;
&lt;/div&gt;
</pre></div>
</div>
</li>
<li><p class="first">Run the app (bootRun, make sure you have environment variables) and ensure the New Item form submits, and that the chosen value is properly set in the database.</p>
</li>
<li><p class="first">Commit your changes (For help see <a class="reference internal" href="../../walkthroughs/gitLab/index.html#git-reference"><span class="std std-ref">Git Reference</span></a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="bonus-mission">
<h2>Bonus Mission<a class="headerlink" href="#bonus-mission" title="Permalink to this headline">¶</a></h2>
<p>Another basic feature that is missing is the ability to add some quantity of items (greater than 1) to the cart. To do this, we need to introduce a new model class, <code class="docutils literal notranslate"><span class="pre">CartItem</span></code>.</p>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p class="last">Before embarking on this mission, create a story branch to isolate your work. Aside from being a best-practice, this will also keep your <code class="docutils literal notranslate"><span class="pre">master</span></code> branch nice and clean in the event you don’t finish the mission. This will be helpful since we’ll continue working on this app in a future studio.</p>
</div>
<p>Create a <code class="docutils literal notranslate"><span class="pre">CartItem</span></code> class with fields <code class="docutils literal notranslate"><span class="pre">item</span></code> and <code class="docutils literal notranslate"><span class="pre">quantity</span></code>, and refactor <code class="docutils literal notranslate"><span class="pre">Cart</span></code> to store a collection of <code class="docutils literal notranslate"><span class="pre">CartItem</span></code> objects instead of <code class="docutils literal notranslate"><span class="pre">Item</span></code> objects. As <code class="docutils literal notranslate"><span class="pre">Cart</span></code> and <code class="docutils literal notranslate"><span class="pre">Item</span></code> have done, you should extend <code class="docutils literal notranslate"><span class="pre">AbstractEntity</span></code> to get the common identifier configuration contained in that base class.</p>
<p>Start by refactoring the model:
* Add the new model class
* Re/write tests in <code class="docutils literal notranslate"><span class="pre">TestCart</span></code> as necessary
* Refactor <cite>Cart</cite> to use <code class="docutils literal notranslate"><span class="pre">CartItem</span></code></p>
<p>Once you have a working model that uses <code class="docutils literal notranslate"><span class="pre">CartItem</span></code>, run <strong>all</strong> of your tests, including the integration tests. You’ll have some work to do here, since changing the model will break parts of the controller and view.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p>You may experience a situation where your integration tests fail because a new item that is seemingly added to the cart isn’t actually there when viewing <code class="docutils literal notranslate"><span class="pre">/cart</span></code>. If this is the case, it’s likely that Hibernate isn’t persisting your new <code class="docutils literal notranslate"><span class="pre">CartItem</span></code> instances. These objects are never handled directly by the controller, and thus never saved via a repository.</p>
<p class="last">You can force Hibernate to save new <code class="docutils literal notranslate"><span class="pre">CartItem</span></code> objects in all situations by adding a cascade property to the <code class="docutils literal notranslate"><span class="pre">&#64;OneToMany</span></code> collection storing <code class="docutils literal notranslate"><span class="pre">CartItem</span></code> objects via <code class="docutils literal notranslate"><span class="pre">&#64;OneToMany(cascade</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">CascadeType.ALL</span> <span class="pre">})</span></code></p>
</div>
<p>After your model has been refactored, and all of your tests pass, you’ll need to refactor the controller and view layers heavily to get this to work. This will include adding functionality that allows the user to enter a quantity when adding an item to the cart.</p>
<p>As always, write your tests first!</p>
</div>
<div class="section" id="turning-in-your-work">
<h2>Turning In Your Work<a class="headerlink" href="#turning-in-your-work" title="Permalink to this headline">¶</a></h2>
<p>If you don’t complete each of the tasks, turn in as much as you have completed by the end of the day.</p>
<ul class="simple">
<li>Commit and push your work to GitLab (For help see <a class="reference internal" href="../../walkthroughs/gitLab/index.html#git-reference"><span class="std std-ref">Git Reference</span></a>)</li>
<li>Create a Merge Request and have the teacher and classmates review your changes</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>